<div class="register h-100 py-3 mh-100">
  <div class="row h-100">
    <div class="col-lg-6 col-md-8 col-sm-10 w-100 main">
      <div class="register-form">
        <h3>Create Account</h3>
        <form [formGroup]="registrationForm" (ngSubmit)="userRegister()">
          <div class="d-flex name">
            <mat-form-field   style="width:100%">
              <mat-label for="firstName">First Name</mat-label>
              <input type="text" [formControl]="firstnameControl" matInput id="firstname" name="firstname" required>
              <mat-error *ngIf="firstnameControl.hasError('required')">
                First Name is <strong>required</strong>
              </mat-error>
              <mat-error *ngIf="firstnameControl.hasError('pattern')">Invalid first name format.</mat-error>

            </mat-form-field>
            <mat-form-field   style="width:100%">
              <mat-label for="lastName">Last Name</mat-label>
              <input type="text" [formControl]="lastnameControl" matInput id="lastname" name="lastname" required>
              <mat-error *ngIf="lastnameControl.hasError('required')">
                Last Name is <strong>required</strong>
              </mat-error>
              <mat-error *ngIf="lastnameControl.hasError('pattern')">Invalid Last Name format.</mat-error>

            </mat-form-field>
          </div>

          <div>
            <mat-form-field   style="width:100%">
              <mat-label for="email">Email</mat-label>
              <input type="email" [formControl]="emailControl" matInput id="email" name="email" required>
              <mat-error *ngIf="emailControl.hasError('required')">Email is <strong>required</strong>.</mat-error>
              <mat-error *ngIf="emailControl.hasError('email')">Invalid email format.</mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field   style="width:100%">
              <mat-label for="password">Password</mat-label>
              <input [type]='show ? "text" :"password" ' [formControl]="passwordControl" matInput id="password" name="password" required>
              <button type="button" class="text-dark" mat-icon-button matSuffix (click)="show = !show">
                <mat-icon>{{show?'visibility_off':'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="passwordControl.hasError('required')">Password is <strong>required</strong>.</mat-error>
              <mat-error *ngIf="passwordControl.hasError('pattern')" align="end" class="d-flex  align-items-center justify-content-start ">
                Password must meet the following criteria:
                <ng-template #HtmlContent>
                  <ul class="list-group ">
                    <li class="list-group-item" style="background-color: #0000;">At least 8 characters long</li>
                    <li class="list-group-item" style="background-color: #0000;">Contains at least one lowercase letter (a-z)</li>
                    <li class="list-group-item" style="background-color: #0000;">Contains at least one uppercase letter (A-Z)</li>
                    <li class="list-group-item" style="background-color: #0000;">Contains at least one number (0-9)</li>
                    <li class="list-group-item" style="background-color: #0000;">Contains at least one special character (@, $, !, %, *, ?, or &)</li>
                  </ul>
                </ng-template>
                <button mat-icon-button  (click)="$event.preventDefault()"   [options]="Options"  [tooltip]="$any(HtmlContent)" contentType="template">
                  <mat-icon>help_outline</mat-icon>
                </button>
              </mat-error>

            </mat-form-field>
          </div>
          <div class="d-flex date">
            <mat-form-field  >
              <mat-label>Day</mat-label>
              <input matInput [formControl]="dayControl" id="day" placeholder="Ex. 25" required>
              <mat-error *ngIf="dayControl.hasError('required')">Day is <strong>required</strong></mat-error>
              <mat-error *ngIf="dayControl.hasError('max')">
                Invalid input
                    <mat-icon matTooltip="Day cannot be greater than 31">help_outline</mat-icon>
              </mat-error>
              <mat-error *ngIf="dayControl.hasError('min')">
                Invalid input
                  <mat-icon matTooltip="Day cannot be less than 1">help_outline</mat-icon>
              </mat-error>
              <mat-error *ngIf="dayControl.hasError('pattern')">
                Invalid input
                  <mat-icon matTooltip="day must be a number">help_outline</mat-icon>
              </mat-error>
            </mat-form-field>
            <mat-form-field >
              <mat-label>Month</mat-label>
              <input matInput [formControl]="monthControl" id="month" placeholder="Ex. 7" required>
              <mat-error *ngIf="monthControl.hasError('required')">Month is <strong>required</strong></mat-error>
              <mat-error *ngIf="monthControl.hasError('max')">
                Invalid input
                  <mat-icon matTooltip="Month cannot be greater than 12">help_outline</mat-icon>
              </mat-error>
              <mat-error *ngIf="monthControl.hasError('min')">
                Invalid input
                  <mat-icon matTooltip="Month cannot be less than 1">help_outline</mat-icon>
              </mat-error>
              <mat-error *ngIf="monthControl.hasError('pattern')">
                Invalid input
                  <mat-icon matTooltip="month must be a number">help_outline</mat-icon>
              </mat-error>

            </mat-form-field>
            <mat-form-field >
              <mat-label>Year</mat-label>
              <input matInput [formControl]="yearControl" id="year"  maxlength="4" [min]="minBirthYear" placeholder="Ex. 2001" required>
              <mat-error *ngIf="yearControl.hasError('required')">Year is <strong>required</strong></mat-error>
              <mat-error *ngIf="yearControl.hasError('max')" >
                  Invalid input
                    <mat-icon [matTooltip]="'Year cannot be greater than ' +  minBirthYear ">help_outline</mat-icon>
              </mat-error>
              <mat-error *ngIf="yearControl.hasError('min')"  >
                  Invalid input
                    <mat-icon matTooltip="Year cannot be less than 1900">help_outline</mat-icon>
              </mat-error>
              <mat-error *ngIf="yearControl.hasError('pattern')">
                Invalid input
                  <mat-icon matTooltip="year must be a number">help_outline</mat-icon>
              </mat-error>
            </mat-form-field>
          </div>
          <mat-error  *ngIf="
            dateControl.invalid &&
            yearControl.touched &&
            monthControl.touched &&
            dayControl.touched &&
            !yearControl.hasError('required') &&
            !dayControl.hasError('required') &&
            !monthControl.hasError('required')&&
            yearControl.valid&&
            dayControl.valid&&
            monthControl.valid">
              Invalid input
                <mat-icon  matTooltip="You must be 16 or older to create an account.">help_outline</mat-icon>
          </mat-error>
          <div>
            <label for="gender">Gender*</label>
            <mat-radio-group  [formControl]="genderControl" id="gender" name="gender">
              <mat-radio-button  value="male">Male</mat-radio-button>
              <mat-radio-button  value="female">Female</mat-radio-button>
              <mat-error *ngIf="genderControl.hasError('required') && genderControl.touched">Gender is <strong>required</strong></mat-error>
            </mat-radio-group>
          </div>
          <div class="phone">
            <mat-form-field class="w-100 mb-3"  >
              <input  matInput placeholder="Phone Number*" type="text" [formControl]="phoneControl" matInput name="phone" #phone id="phone">
              <mat-hint align="end" class="d-flex mt-2 align-items-center justify-content-center ">
                You can type + country code
                <button mat-icon-button [matTooltip]="'Example: +20 (for Egypt)'" aria-label="Example">
                  <mat-icon>help_outline</mat-icon>
                </button>
              </mat-hint>
              <mat-error *ngIf="phoneControl.hasError('required')">Phone is <strong>required</strong></mat-error>

            </mat-form-field>
          </div>
          <div class="d-flex address">
            <mat-form-field  >
              <mat-label>Country</mat-label>
              <input matInput [formControl]="countryControl" placeholder="Ex. United States" required>
              <mat-error *ngIf="countryControl.hasError('required')">Country is <strong>required</strong></mat-error>
            </mat-form-field>
            <mat-form-field >
              <mat-label>City</mat-label>
              <input matInput [formControl]="cityControl" placeholder="Ex. San Francisco" required>
              <mat-error *ngIf="cityControl.hasError('required')">City is <strong>required</strong></mat-error>

            </mat-form-field>
            <mat-form-field >
              <mat-label>Postal Code</mat-label>
              <input matInput [formControl]="postCodeControl" #postalCode maxlength="5" placeholder="Ex. 94105" required>
              <mat-error *ngIf="postCodeControl.hasError('required')">Code is <strong>required</strong></mat-error>

              <mat-hint align="end">{{ postalCode.value.length }} / 5</mat-hint>
            </mat-form-field>
          </div>

          <div>
            <mat-form-field   style="width:100%">
              <mat-label for="address">Address</mat-label>
              <input type="text" [formControl]="addressControl" matInput id="address" name="address" required>
              <mat-error *ngIf="addressControl.hasError('required')">Address is <strong>required</strong></mat-error>
            </mat-form-field>
          </div>
          <div >
            <input value="Sign Up" type="submit" [disabled]="!this.registrationForm.valid" class="btn btn-danger pull-right flot-right ">
          </div>
        </form>
      </div>
    </div>
    <div class="bg-img">
      <img class="mw-100" src="./assets/servers.svg" alt="" />
    </div>
  </div>
  <p class="h5">Do you already have an account?&nbsp; <a  class="p-2  mb-2 bg-success text-white rounded text-decoration-none " routerLink="/auth/login">Login</a></p>
</div>
